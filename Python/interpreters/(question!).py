

def interpret(data):
    tape = 0
    temp = 0
    loop = False

    for char in data:

        if loop:
            if char == '!':
                tape = 0
            elif char == '?':
                temp += 1
            elif char == ')':
                tape *= temp
                temp = 0
                loop = False
        else:
            if char == '?':
                tape += 1
            elif char == '!':
                print(chr(tape), end="")
            elif char == '(':
                loop = True


if __name__ == "__main__":
    interpret("???????(??????????)??!(!) ?????????????(?????)????!(!) ???????????????(?????)?!(!) ???????????????(????"
              "?)?!(!) ???????????????(?????)????!(!) ??????????(???)??!(!) ?????????????????(?????)??!(!) ???????????"
              "????(?????)????!(!) ??????????(????????)??!(!) ???????????????(?????)?!(!) ?????????????(?????)???!(!) "
              "??????????(???)???!(!)")
